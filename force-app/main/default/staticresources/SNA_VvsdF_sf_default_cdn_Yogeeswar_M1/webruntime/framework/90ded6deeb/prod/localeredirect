!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).redirectForLocale=n()}(this,(function(){"use strict";function e(e,n,i){if(n){const o=30484800;document.cookie=`${e}=${n};path=${i};Max-Age=${o}`}else document.cookie=`${e}=;path=${i};expires=Thu, 01 Jan 1970 00:00:01 GMT`}return function(n,i,o,t,l,c){if(null==t||!i||i.length<=1)return;const s=t.split("/");let a=s.length<2?"":s[s.length-1];i.includes(a)||(a="");const d=window.navigator.languages;let f;if(l)for(const e of d){if(i.includes(e)){f=e;break}if(i.includes(e.split("-")[0])){f=e.split("-")[0];break}}else if(f=d.find((e=>i.includes(e))),!f){const e=i.filter((e=>!e.includes("-")));f=d.map((e=>e.split("-")[0])).find((n=>e.includes(n)))}const u=new RegExp(`\\/${a}\\/?`),r=a?t.replace(u,""):t,p=document.cookie.split("; ").reduce(((e,n)=>{const[i,...o]=n.split("=");return e[i]=o.join("="),e}),{})[o],w=Boolean(p&&i.includes(p)),h="/",g=window.navigator.userAgent;if(g){if(c.some((e=>g.includes(e))))return void(a&&i.includes(a)?e(o,a,h):e(o,n,h))}if(a&&i.includes(a))e(o,w||f!==a?a:null,h);else if(/[?&]redirect=false/.test(window.location.search))e(o,n===f?null:n,h);else if(w){if(p!==n){const e=window.location.pathname.replace(t,`${r}/${p}`);window.location.pathname=e}}else if(f&&f!==n){const e=window.location.pathname.replace(t,`${r}/${f}`);window.location.pathname=e}}}));
